<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MBTI 어르신 성향 검사 - 무료 온라인 테스트</title>
  <meta name="description" content="무료 MBTI 어르신 성향 검사로 나의 생활 스타일과 강점을 진단하세요. 16가지 유형별 해설과 그래프 제공. 간편하게 나의 생활 성향을 알아보세요.">
  <meta name="keywords" content="MBTI, 어르신, 성향 검사, 무료, 테스트, 성격유형, 생활, 가족, 건강, 온라인">
  <meta name="author" content="enjoy-onepage">
  <link rel="canonical" href="https://mbti-for-senior.enjoy-onepage.com/" />
  <meta property="og:title" content="MBTI 어르신 성향 검사 - 무료 온라인 테스트">
  <meta property="og:description" content="무료 MBTI 어르신 성향 검사로 나의 생활 스타일과 강점을 진단하세요. 16가지 유형별 해설과 그래프 제공.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mbti-for-senior.enjoy-onepage.com/">
  <meta property="og:image" content="https://mbti-for-senior.enjoy-onepage.com/images/mbti-og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MBTI 어르신 성향 검사">
  <meta name="twitter:description" content="무료 MBTI 어르신 성향 검사로 나의 생활 스타일과 강점을 진단하세요.">
  <meta name="twitter:image" content="https://mbti-for-senior.enjoy-onepage.com/images/mbti-og-image.png">
  <link rel="icon" href="/favicon.ico" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "MBTI 어르신 성향 검사",
    "description": "무료 MBTI 어르신 성향 검사로 나의 생활 스타일과 강점을 진단하세요. 16가지 유형별 해설과 그래프 제공.",
    "url": "https://mbti-for-senior.enjoy-onepage.com/"
  }
  </script>
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
    }
    body {
      font-family: "Comic Sans MS", "Apple SD Gothic Neo", sans-serif;
      background-color: #fff8f0;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 700px;
      margin: auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #ff7f50;
    }
    h2 {
      color: #ff7f50;
      text-align: center;
    }
    fieldset {
      border: none;
      margin: 0 0 24px 0;
      padding: 0;
    }
    legend {
      font-weight: bold;
      color: #ff7f50;
      margin-bottom: 10px;
      font-size: 1.1em;
    }
    .question {
      margin-bottom: 15px;
      padding: 10px 16px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      word-break: break-word;
    }
    .question label,
    .question input,
    .question button {
      max-width: 100%;
      box-sizing: border-box;
    }
    .question-number {
      display: inline-block;
      font-weight: bold;
      color: #ff7f50;
      margin-right: 8px;
    }
    .question-title {
      display: block;
      font-size: 1.07em;
      font-weight: 500;
      margin-bottom: 4px;
      color: #444;
    }
    label {
      display: block;
      margin: 5px 0;
      cursor: pointer;
    }
    button {
      background-color: #ffb347;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px auto 0 auto;
      display: block;
    }
    .kakao-share-btn {
      background-color: #fee500;
      color: #3c1e1e;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      margin: 12px auto 0 auto;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    .kakao-share-btn img {
      height: 22px;
      vertical-align: middle;
    }
    .hidden {
      display: none;
    }
    #result {
      margin-top: 20px;
      padding: 20px;
      background-color: #fff0f5;
      border-radius: 10px;
    }
    .chart-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      margin-bottom: 20px;
    }
    .chart-box {
      width: 45%;
      min-width: 200px;
      margin-bottom: 20px;
      text-align: center;
    }
    canvas {
      margin: auto;
      display: block;
    }
    .highlight {
      font-weight: bold;
      color: #ff7f50;
    }
    .alert-message {
      color: #d32f2f;
      font-weight: bold;
      text-align: center;
      margin-bottom: 10px;
      margin-top: 0;
    }
    .mbti-desc {
      background: #fff;
      border-radius: 10px;
      padding: 18px 16px;
      margin-bottom: 28px;
      font-size: 1.08em;
      line-height: 1.7;
      box-shadow: 0 2px 5px rgba(0,0,0,0.06);
    }
    .mbti-desc strong {
      color: #ff7f50;
      font-size: 1.13em;
    }
    nav {
      text-align: center;
      margin-top: 40px;
    }
    nav a {
      color: #ff7f50;
      text-decoration: none;
      margin: 0 10px;
      font-weight: bold;
    }
    footer {
      text-align: center;
      font-size: 0.95em;
      color: #888;
      margin-top: 40px;
      padding: 20px 0 0 0;
      border-top: 1px solid #eee;
    }
    #intro-page .adsbygoogle {
      margin-bottom: 10px;
      display: block;
    }
    #ad-ei1 .adsbygoogle, #ad-ei2 .adsbygoogle,
    #ad-sn1 .adsbygoogle, #ad-sn2 .adsbygoogle,
    #ad-tf1 .adsbygoogle, #ad-tf2 .adsbygoogle,
    #ad-jp1 .adsbygoogle, #ad-jp2 .adsbygoogle {
      margin-bottom: 10px;
      display: block;
    }

    #ad-resultup .adsbygoogle, #ad-resultdown .adsbygoogle {
      margin-bottom: 10px;
      display: block;
    }

    .home-btn {
      background-color: #7fcfff;
      color: #fff;
      border: none;
      padding: 10px 22px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      margin: 18px auto 0 auto;
      display: block;
      font-weight: bold;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- 카카오 SDK 추가 -->
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>
<body>
  <main>
    <section class="container" aria-labelledby="main-title">
      <h1 id="main-title">MBTI 어르신 성향 검사</h1>
      <section id="intro-page" class="question-page" aria-label="인트로">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-2228289204702106"
          data-ad-slot="2369206483"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <h2>환영합니다!</h2>
        <p>
          이 검사는 60대 이상 어르신이 일상 속에서 어떤 성향을 가지고 계신지 알아보는 검사입니다.<br>
          각 상황에서 본인에게 더 가까운 행동을 골라주세요.<br>
          결과는 그래프와 해설로 안내됩니다.<br><br>
          <strong>시작하기 버튼을 눌러주세요!</strong>
        </p>
        <button type="button" onclick="startSurvey()" aria-label="검사 시작하기">시작하기</button>
      </section>
      <!-- 설문 폼 전체 시작 -->
      <form id="mbti-form" autocomplete="off" aria-label="MBTI 설문지">
        <!-- EI (외향/내향) -->
        <section id="page-ei" class="question-page hidden" aria-label="외향/내향">
          <fieldset>
            <legend>외향(E) / 내향(I)</legend>
            <!-- 1~10번 질문 (EI) -->
            <div class="question"><span class="question-number">1.</span>
              <span class="question-title">동네에서 아는 사람을 만나면 어떻게 하시나요?</span>
              <label for="ei1e"><input id="ei1e" type="radio" name="ei1" value="E" /> 먼저 인사하며 이야기를 나눈다</label>
              <label for="ei1i"><input id="ei1i" type="radio" name="ei1" value="I" /> 조용히 미소만 짓거나 그냥 지나친다</label>
            </div>
            <div class="question"><span class="question-number">2.</span>
              <span class="question-title">여가 시간에 무엇을 더 즐기시나요?</span>
              <label for="ei2e"><input id="ei2e" type="radio" name="ei2" value="E" /> 여러 사람과 모여 이야기하거나 활동한다</label>
              <label for="ei2i"><input id="ei2i" type="radio" name="ei2" value="I" /> 혼자 산책하거나 책을 읽는다</label>
            </div>
            <div class="question"><span class="question-number">3.</span>
              <span class="question-title">가족 모임에서 주로 어떤 모습인가요?</span>
              <label for="ei3e"><input id="ei3e" type="radio" name="ei3" value="E" /> 먼저 이야기를 꺼내고 분위기를 띄운다</label>
              <label for="ei3i"><input id="ei3i" type="radio" name="ei3" value="I" /> 조용히 듣고 있다가 필요할 때만 말한다</label>
            </div>
            <div class="question"><span class="question-number">4.</span>
              <span class="question-title">동네 잔치나 모임이 있을 때 어떤가요?</span>
              <label for="ei4e"><input id="ei4e" type="radio" name="ei4" value="E" /> 자주 참석해 사람들과 어울린다</label>
              <label for="ei4i"><input id="ei4i" type="radio" name="ei4" value="I" /> 가끔만 참석하거나 피한다</label>
            </div>
            <div class="question"><span class="question-number">5.</span>
              <span class="question-title">새로운 사람을 만날 때 어떤가요?</span>
              <label for="ei5e"><input id="ei5e" type="radio" name="ei5" value="E" /> 금방 친해지고 먼저 말을 건다</label>
              <label for="ei5i"><input id="ei5i" type="radio" name="ei5" value="I" /> 천천히 친해진다</label>
            </div>
            <div id="ad-ei1"></div>
            <div class="question"><span class="question-number">6.</span>
              <span class="question-title">동년배와 대화할 때 어떤 편인가요?</span>
              <label for="ei6e"><input id="ei6e" type="radio" name="ei6" value="E" /> 먼저 말을 걸고 이야기를 나눈다</label>
              <label for="ei6i"><input id="ei6i" type="radio" name="ei6" value="I" /> 상대가 먼저 말 걸 때까지 기다린다</label>
            </div>
            <div class="question"><span class="question-number">7.</span>
              <span class="question-title">여행이나 나들이를 갈 때 어떤가요?</span>
              <label for="ei7e"><input id="ei7e" type="radio" name="ei7" value="E" /> 여러 사람과 함께 가는 걸 좋아한다</label>
              <label for="ei7i"><input id="ei7i" type="radio" name="ei7" value="I" /> 소수 혹은 혼자서 조용히 다닌다</label>
            </div>
            <div class="question"><span class="question-number">8.</span>
              <span class="question-title">동네 소식이나 정보를 어떻게 얻으시나요?</span>
              <label for="ei8e"><input id="ei8e" type="radio" name="ei8" value="E" /> 주변 사람들과 자주 대화하며 얻는다</label>
              <label for="ei8i"><input id="ei8i" type="radio" name="ei8" value="I" /> 필요한 정보만 조용히 챙긴다</label>
            </div>
            <div class="question"><span class="question-number">9.</span>
              <span class="question-title">하루를 마무리할 때 어떤 시간이 더 소중한가요?</span>
              <label for="ei9e"><input id="ei9e" type="radio" name="ei9" value="E" /> 가족, 친구와의 대화 시간</label>
              <label for="ei9i"><input id="ei9i" type="radio" name="ei9" value="I" /> 혼자만의 조용한 시간</label>
            </div>
            <div class="question"><span class="question-number">10.</span>
              <span class="question-title">동네에서 모르는 사람을 보면 어떻게 하시나요?</span>
              <label for="ei10e"><input id="ei10e" type="radio" name="ei10" value="E" /> 먼저 인사하거나 말을 건다</label>
              <label for="ei10i"><input id="ei10i" type="radio" name="ei10" value="I" /> 그냥 지나친다</label>
            </div>
            <div id="ad-ei2"></div>
            <div id="alert-ei" class="alert-message hidden" role="alert"></div>
            <button type="button" onclick="nextPage('ei', 'sn', 10)" aria-label="다음(SN 파트로)">다음</button>
          </fieldset>
        </section>
        <!-- SN (감각/직관) -->
        <section id="page-sn" class="question-page hidden" aria-label="감각/직관">
          <fieldset>
            <legend>감각(S) / 직관(N)</legend>
            <!-- 1~10번 질문 (SN) -->
            <div class="question"><span class="question-number">1.</span>
              <span class="question-title">새로운 가전제품을 사용할 때 어떻게 하시나요?</span>
              <label for="sn1s"><input id="sn1s" type="radio" name="sn1" value="S" /> 설명서를 꼼꼼히 읽고 따라한다</label>
              <label for="sn1n"><input id="sn1n" type="radio" name="sn1" value="N" /> 대충 보고 직접 만져보며 익힌다</label>
            </div>
            <div class="question"><span class="question-number">2.</span>
              <span class="question-title">건강을 챙길 때 어떤 방법을 더 선호하시나요?</span>
              <label for="sn2s"><input id="sn2s" type="radio" name="sn2" value="S" /> 의사나 주변에서 들은 방법을 그대로 따른다</label>
              <label for="sn2n"><input id="sn2n" type="radio" name="sn2" value="N" /> 내 방식대로 새롭게 시도해 본다</label>
            </div>
            <div class="question"><span class="question-number">3.</span>
              <span class="question-title">손주와 시간을 보낼 때 어떤 편인가요?</span>
              <label for="sn3s"><input id="sn3s" type="radio" name="sn3" value="S" /> 정해진 시간과 규칙을 지킨다</label>
              <label for="sn3n"><input id="sn3n" type="radio" name="sn3" value="N" /> 그때그때 상황에 맞게 융통성 있게 논다</label>
            </div>
            <div class="question"><span class="question-number">4.</span>
              <span class="question-title">생활 정보(건강, 복지 등)를 접할 때 어떤가요?</span>
              <label for="sn4s"><input id="sn4s" type="radio" name="sn4" value="S" /> 실제 적용법 위주로 본다</label>
              <label for="sn4n"><input id="sn4n" type="radio" name="sn4" value="N" /> 전체 흐름과 배경을 먼저 본다</label>
            </div>
            <div class="question"><span class="question-number">5.</span>
              <span class="question-title">취미 생활에서 더 중요한 것은?</span>
              <label for="sn5s"><input id="sn5s" type="radio" name="sn5" value="S" /> 결과물(작품, 완성 등)</label>
              <label for="sn5n"><input id="sn5n" type="radio" name="sn5" value="N" /> 과정에서 느끼는 즐거움</label>
            </div>
            <div id="ad-sn1"></div>
            <div class="question"><span class="question-number">6.</span>
              <span class="question-title">일상에서 문제를 해결할 때 어떤가요?</span>
              <label for="sn6s"><input id="sn6s" type="radio" name="sn6" value="S" /> 경험에 의존해 해결한다</label>
              <label for="sn6n"><input id="sn6n" type="radio" name="sn6" value="N" /> 새로운 시도와 아이디어를 활용한다</label>
            </div>
            <div class="question"><span class="question-number">7.</span>
              <span class="question-title">가족이나 이웃과의 갈등이 생겼을 때?</span>
              <label for="sn7s"><input id="sn7s" type="radio" name="sn7" value="S" /> 기존의 방식대로 해결하려 한다</label>
              <label for="sn7n"><input id="sn7n" type="radio" name="sn7" value="N" /> 새로운 접근법을 고민한다</label>
            </div>
            <div class="question"><span class="question-number">8.</span>
              <span class="question-title">생활의 변화를 받아들일 때 어떤가요?</span>
              <label for="sn8s"><input id="sn8s" type="radio" name="sn8" value="S" /> 익숙한 것이 편하다</label>
              <label for="sn8n"><input id="sn8n" type="radio" name="sn8" value="N" /> 새로운 변화에 호기심이 있다</label>
            </div>
            <div class="question"><span class="question-number">9.</span>
              <span class="question-title">건강이나 생활 관련 결정을 내릴 때?</span>
              <label for="sn9s"><input id="sn9s" type="radio" name="sn9" value="S" /> 신중히 여러 사례를 참고한다</label>
              <label for="sn9n"><input id="sn9n" type="radio" name="sn9" value="N" /> 직감과 느낌을 믿는 편이다</label>
            </div>
            <div class="question"><span class="question-number">10.</span>
              <span class="question-title">새로운 기술(스마트폰 등)에 대한 태도는?</span>
              <label for="sn10s"><input id="sn10s" type="radio" name="sn10" value="S" /> 설명서나 강의를 꼼꼼히 본다</label>
              <label for="sn10n"><input id="sn10n" type="radio" name="sn10" value="N" /> 직접 만져보며 익힌다</label>
            </div>
            <div id="ad-sn2"></div>
            <div id="alert-sn" class="alert-message hidden" role="alert"></div>
            <button type="button" onclick="nextPage('sn', 'tf', 10)" aria-label="다음(TF 파트로)">다음</button>
          </fieldset>
        </section>
        <!-- TF (사고/감정) -->
        <section id="page-tf" class="question-page hidden" aria-label="사고/감정">
          <fieldset>
            <legend>사고(T) / 감정(F)</legend>
            <!-- 1~10번 질문 (TF) -->
            <div class="question"><span class="question-number">1.</span>
              <span class="question-title">가족이나 친구가 고민을 이야기할 때 어떻게 하시나요?</span>
              <label for="tf1t"><input id="tf1t" type="radio" name="tf1" value="T" /> 해결 방법을 먼저 생각해서 조언한다</label>
              <label for="tf1f"><input id="tf1f" type="radio" name="tf1" value="F" /> 마음을 먼저 공감하고 위로해준다</label>
            </div>
            <div class="question"><span class="question-number">2.</span>
              <span class="question-title">중요한 결정을 할 때 어떤 기준을 더 중시하시나요?</span>
              <label for="tf2t"><input id="tf2t" type="radio" name="tf2" value="T" /> 이성적으로 따져보고 결정한다</label>
              <label for="tf2f"><input id="tf2f" type="radio" name="tf2" value="F" /> 마음이 끌리는 쪽을 선택한다</label>
            </div>
            <div class="question"><span class="question-number">3.</span>
              <span class="question-title">누군가 실수했을 때 어떻게 하시나요?</span>
              <label for="tf3t"><input id="tf3t" type="radio" name="tf3" value="T" /> 바로 솔직하게 말한다</label>
              <label for="tf3f"><input id="tf3f" type="radio" name="tf3" value="F" /> 상대방 기분을 생각해 조심스럽게 말한다</label>
            </div>
            <div class="question"><span class="question-number">4.</span>
              <span class="question-title">가족 내 역할에 대해 어떻게 생각하시나요?</span>
              <label for="tf4t"><input id="tf4t" type="radio" name="tf4" value="T" /> 각자 역할을 분명히 하는 것이 좋다</label>
              <label for="tf4f"><input id="tf4f" type="radio" name="tf4" value="F" /> 서로 돕고 배려하는 것이 중요하다</label>
            </div>
            <div class="question"><span class="question-number">5.</span>
              <span class="question-title">이웃이나 친구가 고민을 털어놓을 때?</span>
              <label for="tf5t"><input id="tf5t" type="radio" name="tf5" value="T" /> 해결책을 제안한다</label>
              <label for="tf5f"><input id="tf5f" type="radio" name="tf5" value="F" /> 공감하며 들어준다</label>
            </div>
            <div id="ad-tf1"></div>
            <div class="question"><span class="question-number">6.</span>
              <span class="question-title">가족 내에서 의견이 다를 때 어떻게 하시나요?</span>
              <label for="tf6t"><input id="tf6t" type="radio" name="tf6" value="T" /> 논리적으로 설명한다</label>
              <label for="tf6f"><input id="tf6f" type="radio" name="tf6" value="F" /> 상대의 감정을 먼저 생각한다</label>
            </div>
            <div class="question"><span class="question-number">7.</span>
              <span class="question-title">갈등 상황에서 우선하는 것은?</span>
              <label for="tf7t"><input id="tf7t" type="radio" name="tf7" value="T" /> 문제의 원인을 분석한다</label>
              <label for="tf7f"><input id="tf7f" type="radio" name="tf7" value="F" /> 관계 회복을 우선한다</label>
            </div>
            <div class="question"><span class="question-number">8.</span>
              <span class="question-title">가족/친구와의 대화에서 더 중요한 것은?</span>
              <label for="tf8t"><input id="tf8t" type="radio" name="tf8" value="T" /> 사실과 정보 전달</label>
              <label for="tf8f"><input id="tf8f" type="radio" name="tf8" value="F" /> 마음을 나누는 것</label>
            </div>
            <div class="question"><span class="question-number">9.</span>
              <span class="question-title">타인의 고민을 들었을 때 어떤가요?</span>
              <label for="tf9t"><input id="tf9t" type="radio" name="tf9" value="T" /> 조언이나 해결책을 제시한다</label>
              <label for="tf9f"><input id="tf9f" type="radio" name="tf9" value="F" /> 함께 공감하고 위로한다</label>
            </div>
            <div class="question"><span class="question-number">10.</span>
              <span class="question-title">가족이나 친구가 힘들어할 때 어떻게 하시나요?</span>
              <label for="tf10t"><input id="tf10t" type="radio" name="tf10" value="T" /> 무엇이 문제인지 함께 찾는다</label>
              <label for="tf10f"><input id="tf10f" type="radio" name="tf10" value="F" /> 힘이 되어주고 위로한다</label>
            </div>
            <div id="ad-tf2"></div>
            <div id="alert-tf" class="alert-message hidden" role="alert"></div>
            <button type="button" onclick="nextPage('tf', 'jp', 10)" aria-label="다음(JP 파트로)">다음</button>
          </fieldset>
        </section>
        <!-- JP (판단/인식) -->
        <section id="page-jp" class="question-page hidden" aria-label="판단/인식">
          <fieldset>
            <legend>판단(J) / 인식(P)</legend>
            <!-- 1~10번 질문 (JP) -->
            <div class="question"><span class="question-number">1.</span>
              <span class="question-title">하루 일정을 어떻게 보내시나요?</span>
              <label for="jp1j"><input id="jp1j" type="radio" name="jp1" value="J" /> 미리 계획을 세우고 그 계획대로 움직인다</label>
              <label for="jp1p"><input id="jp1p" type="radio" name="jp1" value="P" /> 그날그날 하고 싶은 대로 움직인다</label>
            </div>
            <div class="question"><span class="question-number">2.</span>
              <span class="question-title">가족 모임이나 약속이 있을 때 어떤가요?</span>
              <label for="jp2j"><input id="jp2j" type="radio" name="jp2" value="J" /> 미리 준비하고 약속을 꼭 지킨다</label>
              <label for="jp2p"><input id="jp2p" type="radio" name="jp2" value="P" /> 상황에 따라 유동적으로 움직인다</label>
            </div>
            <div class="question"><span class="question-number">3.</span>
              <span class="question-title">집안일을 할 때 어떤 편인가요?</span>
              <label for="jp3j"><input id="jp3j" type="radio" name="jp3" value="J" /> 정해진 시간에 한다</label>
              <label for="jp3p"><input id="jp3p" type="radio" name="jp3" value="P" /> 하고 싶을 때 한다</label>
            </div>
            <div class="question"><span class="question-number">4.</span>
              <span class="question-title">여행이나 외출 준비는 어떻게 하시나요?</span>
              <label for="jp4j"><input id="jp4j" type="radio" name="jp4" value="J" /> 미리 꼼꼼히 준비한다</label>
              <label for="jp4p"><input id="jp4p" type="radio" name="jp4" value="P" /> 필요한 것만 챙기고 떠난다</label>
            </div>
            <div class="question"><span class="question-number">5.</span>
              <span class="question-title">생활의 변화가 있을 때 어떤가요?</span>
              <label for="jp5j"><input id="jp5j" type="radio" name="jp5" value="J" /> 변화가 불편하다</label>
              <label for="jp5p"><input id="jp5p" type="radio" name="jp5" value="P" /> 새로운 기회로 받아들인다</label>
            </div>
            <div id="ad-jp1"></div>
            <div class="question"><span class="question-number">6.</span>
              <span class="question-title">집안 정리나 청소는?</span>
              <label for="jp6j"><input id="jp6j" type="radio" name="jp6" value="J" /> 자주 정리한다</label>
              <label for="jp6p"><input id="jp6p" type="radio" name="jp6" value="P" /> 필요할 때만 한다</label>
            </div>
            <div class="question"><span class="question-number">7.</span>
              <span class="question-title">생활비나 지출 관리 방법은?</span>
              <label for="jp7j"><input id="jp7j" type="radio" name="jp7" value="J" /> 꼼꼼히 기록하고 관리한다</label>
              <label for="jp7p"><input id="jp7p" type="radio" name="jp7" value="P" /> 대략적으로만 신경 쓴다</label>
            </div>
            <div class="question"><span class="question-number">8.</span>
              <span class="question-title">계획에 없던 일이 생기면?</span>
              <label for="jp8j"><input id="jp8j" type="radio" name="jp8" value="J" /> 당황하거나 불편하다</label>
              <label for="jp8p"><input id="jp8p" type="radio" name="jp8" value="P" /> 유연하게 대처한다</label>
            </div>
            <div class="question"><span class="question-number">9.</span>
              <span class="question-title">가족/친구와의 약속을 지키는 편인가요?</span>
              <label for="jp9j"><input id="jp9j" type="radio" name="jp9" value="J" /> 항상 약속을 지킨다</label>
              <label for="jp9p"><input id="jp9p" type="radio" name="jp9" value="P" /> 상황에 따라 달라진다</label>
            </div>
            <div class="question"><span class="question-number">10.</span>
              <span class="question-title">갑작스러운 손님 방문에 대한 태도는?</span>
              <label for="jp10j"><input id="jp10j" type="radio" name="jp10" value="J" /> 미리 준비된 것이 편하다</label>
              <label for="jp10p"><input id="jp10p" type="radio" name="jp10" value="P" /> 즉흥적으로 맞이해도 괜찮다</label>
            </div>
            <div id="ad-jp2"></div>
            <div id="alert-jp" class="alert-message hidden" role="alert"></div>
            <button type="submit" aria-label="결과 보기">결과 보기</button>
          </fieldset>
        </section>
      </form>
      <!-- 설문 폼 전체 끝 -->
      <section id="result" class="hidden" aria-live="polite"></section>
    </section>
    <footer>
      <small>&copy; 2025 enjoy-onepage. All rights reserved.</small>
    </footer>
  </main>
  <script>
    // 카카오 SDK 초기화 (본인의 JavaScript 키로 교체)
    Kakao.init('b157f51afb710d60c8b6bec3dc9a2d1f');

    function startSurvey() {
      document.getElementById('intro-page').classList.add('hidden');
      showPage('ei');
    }
    function showPage(type) {
      document.querySelectorAll('.question-page').forEach(page => page.classList.add('hidden'));
      document.getElementById('page-' + type).classList.remove('hidden');
      if (type === 'ei') {
        reloadAds('#ad-ei1', 'ca-pub-2228289204702106', '9155968505');
        reloadAds('#ad-ei2', 'ca-pub-2228289204702106', '9155968505');
      }
      if (type === 'sn') {
        reloadAds('#ad-sn1', 'ca-pub-2228289204702106', '9155968505');
        reloadAds('#ad-sn2', 'ca-pub-2228289204702106', '9155968505');
      }
      if (type === 'tf') {
        reloadAds('#ad-tf1', 'ca-pub-2228289204702106', '9155968505');
        reloadAds('#ad-tf2', 'ca-pub-2228289204702106', '9155968505');
      }
      if (type === 'jp') {
        reloadAds('#ad-jp1', 'ca-pub-2228289204702106', '9155968505');
        reloadAds('#ad-jp2', 'ca-pub-2228289204702106', '9155968505');
      }
    }
    function nextPage(current, next, numQuestions) {
      const names = [];
      for (let i = 1; i <= numQuestions; i++) {
        names.push(current + i);
      }
      let allAnswered = true;
      for (const name of names) {
        if (!document.querySelector(`input[name="${name}"]:checked`)) {
          allAnswered = false;
          break;
        }
      }
      const alertDiv = document.getElementById('alert-' + current);
      if (!allAnswered) {
        alertDiv.textContent = "모든 문항에 답변해 주세요!";
        alertDiv.classList.remove('hidden');
        return;
      } else {
        alertDiv.classList.add('hidden');
      }
      showPage(next);
    }
    function renderDonutChart(ctx, labels, data, colors) {
      return new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: labels,
          datasets: [{
            data: data,
            backgroundColor: colors,
            borderWidth: 2,
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: true,
              position: 'bottom',
              labels: { font: { size: 14 } }
            }
          },
          cutout: '70%',
        }
      });
    }
    const chartExplanations = {
      ei: `<div class="chart-explain"><b>E</b>: 외향(사람들과 어울리며 에너지 얻음), <b>I</b>: 내향(혼자만의 시간에서 에너지 얻음)</div>`,
      sn: `<div class="chart-explain"><b>S</b>: 감각(경험과 현실을 중시), <b>N</b>: 직관(아이디어와 가능성을 중시)</div>`,
      tf: `<div class="chart-explain"><b>T</b>: 사고(논리와 사실을 중시), <b>F</b>: 감정(마음과 관계를 중시)</div>`,
      jp: `<div class="chart-explain"><b>J</b>: 판단(계획적이고 체계적), <b>P</b>: 인식(유연하고 즉흥적)</div>`
    };
    const descriptions = {
      ISTJ: `<strong>ISTJ (현실주의자형)</strong><br>
      <strong>생활 강점</strong>: 꼼꼼하고 믿음직스러운 성격으로 가족과 친구들에게 든든한 버팀목이 되어줍니다.<br>
      <strong>일상 예시</strong>: 집안 행사를 미리 준비하거나, 손주 돌봄에서 규칙을 잘 지키는 모습이 많아요. 예를 들어, 여행을 가기 전 체크리스트를 꼼꼼히 작성하고, 가족 약속을 꼭 지키는 분들이 많습니다.<br>
      <strong>조언</strong>: 가끔은 새로운 변화도 받아들이며, 새로운 취미나 친구도 천천히 시도해보세요. 너무 혼자서 모든 걸 책임지려 하지 않아도 괜찮아요.<br>
      <strong>관계 팁</strong>: 가족이나 친구에게 “도움이 필요하면 언제든 말해줘”라고 먼저 다정하게 건네보세요. 그러면 더 따뜻한 관계가 만들어질 거예요.<br>
      <strong>추천 활동</strong>: 규칙적인 운동, 동네 봉사, 텃밭 가꾸기 등 꾸준함이 필요한 취미.<br>`,
      ISFJ: `<strong>ISFJ (수호자형)</strong><br>
      <strong>생활 강점</strong>: 세심하고 따뜻한 마음으로 가족과 이웃을 잘 챙깁니다. 주변 사람들이 항상 든든하게 느끼는 분들이에요.<br>
      <strong>일상 예시</strong>: 가족 건강을 꼼꼼히 챙기거나, 손주 간식도 정성스럽게 준비하는 모습이 많아요. 친구가 힘들어할 때 조용히 곁을 지켜주는 분도 많습니다.<br>
      <strong>조언</strong>: 가끔은 본인의 감정도 소중히 여기고, 힘들 때는 “오늘은 나도 쉬고 싶어요”라고 솔직히 표현해보세요.<br>
      <strong>관계 팁</strong>: “고마워” “사랑해” 같은 따뜻한 말을 자주 건네면 가족과 친구들이 더 행복해집니다.<br>
      <strong>추천 활동</strong>: 손공예, 요리, 봉사 등 세심함이 빛나는 취미.<br>`,
      INFJ: `<strong>INFJ (옹호자형)</strong><br>
      <strong>생활 강점</strong>: 깊이 있는 공감과 통찰로 가족과 친구의 마음을 잘 이해하고 도와줍니다.<br>
      <strong>일상 예시</strong>: 가족이나 친구가 고민을 털어놓으면, 조용히 들어주고 따뜻한 조언을 건네는 분들이 많아요. 손주와 진지한 대화를 나누는 것도 잘합니다.<br>
      <strong>조언</strong>: 자신의 생각을 조금 더 구체적으로 표현해보세요. “나는 이렇게 생각해”라고 말하면 주변도 더 쉽게 다가와요.<br>
      <strong>관계 팁</strong>: 마음이 힘들 땐 혼자 끙끙 앓지 말고, 가까운 사람에게 솔직히 털어놓아도 괜찮아요.<br>
      <strong>추천 활동</strong>: 상담, 봉사, 손주와의 대화, 글쓰기 등 마음을 나누는 취미.<br>`,
      INTJ: `<strong>INTJ (전략가형)</strong><br>
      <strong>생활 강점</strong>: 계획적이고 체계적인 성격으로 가족의 미래를 든든하게 준비합니다.<br>
      <strong>일상 예시</strong>: 가족 여행을 미리 꼼꼼히 계획하거나, 건강관리를 위한 정보를 스스로 찾아보는 분들이 많아요. 친구 모임에서도 새로운 아이디어를 자주 제안합니다.<br>
      <strong>조언</strong>: 주변의 다양한 의견도 한 번쯤 들어보세요. “네 생각은 어때?”라고 물어보면 더 풍성한 대화가 됩니다.<br>
      <strong>관계 팁</strong>: 가끔은 즉흥적인 활동도 즐겨보세요. 손주와 함께 즉석에서 산책을 가거나, 새로운 취미를 시도해보면 색다른 기쁨이 찾아옵니다.<br>
      <strong>추천 활동</strong>: 여행 계획 세우기, 독서 모임, 건강관리.<br>`,
      ISTP: `<strong>ISTP (장인형)</strong><br>
      <strong>생활 강점</strong>: 손재주가 좋고, 문제를 실용적으로 해결하는 능력이 뛰어납니다.<br>
      <strong>일상 예시</strong>: 집안 고장 난 곳을 뚝딱 고치거나, 손주 장난감을 직접 만드는 분들이 많아요. 친구들과 캠핑이나 낚시를 즐기는 것도 잘합니다.<br>
      <strong>조언</strong>: 반복되는 일상에도 나만의 작은 재미를 찾아보세요. 새로운 도구나 취미를 시도해보면 활력이 생깁니다.<br>
      <strong>관계 팁</strong>: “같이 해볼래?”라고 먼저 제안하면 가족이나 친구와 더 가까워질 수 있어요.<br>
      <strong>추천 활동</strong>: DIY, 텃밭 가꾸기, 목공, 기계 다루기.<br>`,
      ISFP: `<strong>ISFP (모험가형)</strong><br>
      <strong>생활 강점</strong>: 섬세하고 따뜻한 감성, 예술적 취미에 재능이 많아요.<br>
      <strong>일상 예시</strong>: 가족 생일이나 기념일에 직접 만든 선물을 주거나, 손주와 함께 그림을 그리는 분들이 많아요. 꽃이나 풍경 사진을 찍는 것도 좋아합니다.<br>
      <strong>조언</strong>: 자신의 감정과 생각을 솔직하게 표현해보세요. “오늘은 이런 기분이야”라고 말하면 주변도 더 잘 이해해줍니다.<br>
      <strong>관계 팁</strong>: 친구나 가족과 감성을 나누는 시간을 자주 가져보세요. 작은 산책이나 음악 감상도 좋습니다.<br>
      <strong>추천 활동</strong>: 그림, 음악, 산책, 사진 등 자연과 예술을 즐기는 취미.<br>`,
      INFP: `<strong>INFP (중재자형)</strong><br>
      <strong>생활 강점</strong>: 창의적이고 깊은 공감 능력으로 주변에 따뜻함을 전합니다.<br>
      <strong>일상 예시</strong>: 가족이나 친구의 고민을 진심으로 들어주고, 손주와 상상의 이야기를 나누는 분들이 많아요. 글쓰기나 봉사활동에도 관심이 많습니다.<br>
      <strong>조언</strong>: 현실적인 계획도 함께 세워보세요. “이번 달에는 꼭 해보고 싶은 걸 하나 정해볼까?”처럼 작게 시작해도 좋아요.<br>
      <strong>관계 팁</strong>: 가끔은 내 마음을 편하게 털어놓는 연습도 해보세요. 가까운 사람과의 대화가 큰 힘이 됩니다.<br>
      <strong>추천 활동</strong>: 글쓰기, 손주와 이야기 나누기, 봉사.<br>`,
      INTP: `<strong>INTP (논리술사형)</strong><br>
      <strong>생활 강점</strong>: 논리적이고 새로운 아이디어를 잘 냅니다. 궁금한 것이 있으면 끝까지 파고드는 성격이에요.<br>
      <strong>일상 예시</strong>: 가족 문제를 논리적으로 분석해 해결책을 제시하거나, 손주와 퀴즈를 내고 맞히는 놀이를 즐기는 분들이 많아요.<br>
      <strong>조언</strong>: 주변과 소통하는 시간을 조금 더 늘려보세요. “이건 어떻게 생각해?”라고 물어보면 대화가 더 풍성해집니다.<br>
      <strong>관계 팁</strong>: 내 생각을 쉽게 설명하려고 노력하면, 가족과 친구가 더 잘 이해해줄 거예요.<br>
      <strong>추천 활동</strong>: 독서, 퍼즐, 손주와 퀴즈 내기.<br>`,
      ESTP: `<strong>ESTP (사업가형)</strong><br>
      <strong>생활 강점</strong>: 활동적이고 즉흥적인 성격, 문제 해결에 강점이 있습니다.<br>
      <strong>일상 예시</strong>: 가족 나들이나 동네 행사에서 분위기를 띄우고, 갑자기 여행을 떠나는 걸 좋아하는 분들이 많아요.<br>
      <strong>조언</strong>: 중요한 결정은 조금 더 고민해보고, 주변의 조언도 들어보세요. 즉흥적인 즐거움과 신중함을 함께 가져가면 더 좋습니다.<br>
      <strong>관계 팁</strong>: 친구나 가족에게 “같이 재미있는 일 해볼래?”라고 자주 제안해보세요.<br>
      <strong>추천 활동</strong>: 운동, 여행, 동네 행사 참여.<br>`,
      ESFP: `<strong>ESFP (연예인형)</strong><br>
      <strong>생활 강점</strong>: 사교적이고 밝은 에너지로 주변을 즐겁게 만듭니다.<br>
      <strong>일상 예시</strong>: 가족 모임에서 분위기 메이커가 되거나, 손주들과 놀이를 즐기는 분들이 많아요. 노래나 춤, 공연 관람도 좋아합니다.<br>
      <strong>조언</strong>: 가끔은 혼자만의 시간도 가져보세요. 조용한 산책이나 음악 감상도 마음을 편하게 해줍니다.<br>
      <strong>관계 팁</strong>: “오늘 하루 어땠어?”처럼 주변에 관심을 표현하면 더 따뜻한 관계가 만들어집니다.<br>
      <strong>추천 활동</strong>: 공연 관람, 동호회 활동, 여행 등 사람들과 어울리는 취미.<br>`,
      ENFP: `<strong>ENFP (활동가형)</strong><br>
      <strong>생활 강점</strong>: 창의적이고 열정적이며, 새로운 시도에 적극적입니다.<br>
      <strong>일상 예시</strong>: 가족 행사나 여행 코스를 새롭게 제안하고, 친구들과 다양한 모임을 만들어 이끄는 분들이 많아요.<br>
      <strong>조언</strong>: 중요한 일은 신중하게 결정해보세요. “이건 조금 더 생각해볼까?”처럼 한 번 더 고민하면 실수가 줄어요.<br>
      <strong>관계 팁</strong>: 내 아이디어를 가족이나 친구와 함께 나누면, 모두가 더 즐거워질 거예요.<br>
      <strong>추천 활동</strong>: 봉사, 손주와 만들기, 여행 등 창의적인 취미.<br>`,
      ENTP: `<strong>ENTP (변론가형)</strong><br>
      <strong>생활 강점</strong>: 토론과 아이디어 교환을 즐기며, 변화와 도전을 좋아합니다.<br>
      <strong>일상 예시</strong>: 가족 모임에서 새로운 의견을 내거나, 친구들과 토론 모임을 여는 분들이 많아요. 새로운 기술이나 취미에도 관심이 많습니다.<br>
      <strong>조언</strong>: 주변의 다양한 의견을 존중해보세요. “네 생각도 좋네!”라고 말하면 더 많은 아이디어가 오갈 수 있습니다.<br>
      <strong>관계 팁</strong>: 내 생각을 상대방이 이해하기 쉽게 천천히 설명해주면, 모두가 더 편하게 느낄 거예요.<br>
      <strong>추천 활동</strong>: 새로운 기술 배우기, 동호회 활동, 토론 모임.<br>`,
      ESTJ: `<strong>ESTJ (경영자형)</strong><br>
      <strong>생활 강점</strong>: 체계적이고 실용적인 생활 관리로 가족과 친구들에게 신뢰를 줍니다.<br>
      <strong>일상 예시</strong>: 가족 행사 준비나 가계부 관리를 꼼꼼히 하며, 동네 일에도 책임감 있게 참여하는 분들이 많아요.<br>
      <strong>조언</strong>: 유연한 사고와 소통을 연습해보세요. “네 생각도 들어보고 싶어”라고 말하면 주변과 더 가까워질 수 있습니다.<br>
      <strong>관계 팁</strong>: 가끔은 즉흥적인 활동도 즐기며, 가족이나 친구와 함께 새로운 경험을 만들어보세요.<br>
      <strong>추천 활동</strong>: 계획적인 여행, 동네 봉사, 취미 동호회.<br>`,
      ESFJ: `<strong>ESFJ (집정관형)</strong><br>
      <strong>생활 강점</strong>: 협동적이고 배려심이 많아, 가족과 친구들을 잘 챙깁니다.<br>
      <strong>일상 예시</strong>: 가족 모임을 주최하거나, 이웃을 챙기는 분들이 많아요. 동호회 활동이나 봉사에도 적극적입니다.<br>
      <strong>조언</strong>: 자신의 감정도 소중히 여기세요. “오늘은 나도 쉬고 싶어요”라고 솔직하게 말해도 괜찮아요.<br>
      <strong>관계 팁</strong>: “고마워요” “사랑해요” 같은 따뜻한 말을 자주 건네면 모두가 더 행복해집니다.<br>
      <strong>추천 활동</strong>: 동호회 활동, 봉사, 모임 등 사람들과 함께하는 취미.<br>`,
      ENFJ: `<strong>ENFJ (선도자형)</strong><br>
      <strong>생활 강점</strong>: 타인을 돕고 이끄는 따뜻한 리더십이 특징입니다.<br>
      <strong>일상 예시</strong>: 가족 행사를 주도하거나, 친구 모임에서 모두가 어울릴 수 있도록 챙기는 분들이 많아요. 봉사나 동호회 운영도 잘 어울립니다.<br>
      <strong>조언</strong>: 자기 관리에도 신경 써보세요. “오늘은 나를 위해 시간을 써야지”라고 다짐해보면 마음이 한결 가벼워질 거예요.<br>
      <strong>관계 팁</strong>: 가족이나 친구의 고민을 들어줄 때는 “내가 곁에 있어줄게”라고 다정하게 말해보세요.<br>
      <strong>추천 활동</strong>: 봉사, 동호회 운영, 강좌 개설 등 주도적인 취미.<br>`,
      ENTJ: `<strong>ENTJ (지휘관형)</strong><br>
      <strong>생활 강점</strong>: 목표 지향적이고 추진력이 강해, 가족과 친구들에게 든든한 리더가 됩니다.<br>
      <strong>일상 예시</strong>: 가족 내에서 계획을 세우고, 중요한 결정을 주도적으로 내리는 분들이 많아요. 동네 프로젝트나 모임에서도 리더십을 발휘합니다.<br>
      <strong>조언</strong>: 주변의 감정도 함께 살펴보세요. “네가 어떻게 느끼는지 궁금해”라고 물어보면 더 따뜻한 관계가 만들어집니다.<br>
      <strong>관계 팁</strong>: 가끔은 한걸음 물러서서, 가족이나 친구의 이야기를 충분히 들어주는 연습도 해보세요.<br>
      <strong>추천 활동</strong>: 동네 프로젝트 리더, 여행 계획, 취미 동호회 운영.<br>`
    };

    function highlightPair(aLabel, aCount, bLabel, bCount) {
      const total = aCount + bCount;
      const aPercent = total === 0 ? 0 : Math.round((aCount / total) * 100);
      const bPercent = total === 0 ? 0 : Math.round((bCount / total) * 100);
      if (aPercent >= bPercent) {
        return `<span class="highlight">${aLabel} ${aPercent}%</span> / ${bLabel} ${bPercent}%`;
      } else {
        return `${aLabel} ${aPercent}% / <span class="highlight">${bLabel} ${bPercent}%</span>`;
      }
    }
    // 결과 공유 및 홈 버튼 추가
    function renderKakaoShare(mbti, desc) {
      return `
        <button class="kakao-share-btn" id="kakao-share-btn" type="button" aria-label="카카오톡으로 결과 공유">
          <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png" alt="카카오톡 로고" />
          카카오톡으로 결과 공유
        </button>
        <button class="home-btn" type="button" onclick="location.href='/'" aria-label="홈으로">홈으로</button>
      `;
    }
    document.getElementById('mbti-form').addEventListener('submit', function (e) {
      e.preventDefault();
      let allAnswered = true;
      const parts = ['ei', 'sn', 'tf', 'jp'];
      for (const part of parts) {
        for (let i = 1; i <= 10; i++) {
          if (!document.querySelector(`input[name="${part}${i}"]:checked`)) {
            allAnswered = false;
            break;
          }
        }
        if (!allAnswered) break;
      }
      const alertDiv = document.getElementById('alert-jp');
      if (!allAnswered) {
        alertDiv.textContent = "모든 문항에 답변해 주세요!";
        alertDiv.classList.remove('hidden');
        return;
      } else {
        alertDiv.classList.add('hidden');
      }
      const counts = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
      document.querySelectorAll('input[type=radio]:checked').forEach(input => {
        counts[input.value]++;
      });
      const mbti =
        (counts['E'] > counts['I'] ? 'E' : 'I') +
        (counts['S'] > counts['N'] ? 'S' : 'N') +
        (counts['T'] > counts['F'] ? 'T' : 'F') +
        (counts['J'] > counts['P'] ? 'J' : 'P');
      let chartHtml = `
        <div id="ad-resultup"></div>
        <h2>당신의 MBTI는 <span class="highlight">${mbti}</span>입니다!</h2>
        <div class="mbti-desc">${descriptions[mbti] || "아직 준비 중인 해설입니다."}</div>
        <div id="ad-resultdown"></div>
        <div class="chart-container">
          <div class="chart-box">
            <canvas id="chart-ei" width="180" height="180"></canvas>
            <div><strong>외향(E) / 내향(I)</strong></div>
            <div>${highlightPair('E', counts['E'], 'I', counts['I'])}</div>
            ${chartExplanations.ei}
          </div>
          <div class="chart-box">
            <canvas id="chart-sn" width="180" height="180"></canvas>
            <div><strong>감각(S) / 직관(N)</strong></div>
            <div>${highlightPair('S', counts['S'], 'N', counts['N'])}</div>
            ${chartExplanations.sn}
          </div>
          <div class="chart-box">
            <canvas id="chart-tf" width="180" height="180"></canvas>
            <div><strong>사고(T) / 감정(F)</strong></div>
            <div>${highlightPair('T', counts['T'], 'F', counts['F'])}</div>
            ${chartExplanations.tf}
          </div>
          <div class="chart-box">
            <canvas id="chart-jp" width="180" height="180"></canvas>
            <div><strong>판단(J) / 인식(P)</strong></div>
            <div>${highlightPair('J', counts['J'], 'P', counts['P'])}</div>
            ${chartExplanations.jp}
          </div>
        </div>
        ${renderKakaoShare(mbti, descriptions[mbti] || "")}
      `;
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = chartHtml;
      resultDiv.classList.remove('hidden');
      document.getElementById('mbti-form').classList.add('hidden');
      renderDonutChart(
        document.getElementById('chart-ei'),
        ['E', 'I'],
        [counts['E'], counts['I']],
        ['#ffb347', '#7fcfff']
      );
      renderDonutChart(
        document.getElementById('chart-sn'),
        ['S', 'N'],
        [counts['S'], counts['N']],
        ['#ffd966', '#b4e197']
      );
      renderDonutChart(
        document.getElementById('chart-tf'),
        ['T', 'F'],
        [counts['T'], counts['F']],
        ['#b39ddb', '#ffb6b9']
      );
      renderDonutChart(
        document.getElementById('chart-jp'),
        ['J', 'P'],
        [counts['J'], counts['P']],
        ['#ff7f50', '#8dd3c7']
      );
      // 카카오톡 공유 버튼 이벤트 등록
      setTimeout(function() {
        const shareBtn = document.getElementById('kakao-share-btn');
        if (shareBtn) {
          shareBtn.onclick = function() {
            Kakao.Share.sendDefault({
              objectType: 'feed',
              content: {
                title: '나의 MBTI 검사 결과',
                description: `나의 MBTI는 ${mbti}입니다! 검사 결과와 해설을 확인해보세요.`,
                imageUrl: 'https://mbti-for-senior.enjoy-onepage.com/images/mbti-og-image.png',
                link: {
                  mobileWebUrl: `https://mbti-job-test.enjoy-onepage.com/?mbti=${mbti}`,
                  webUrl: `https://mbti-for-senior.enjoy-onepage.com/?mbti=${mbti}`
                }
              },
              buttons: [
                {
                  title: '나도 검사하기',
                  link: {
                    mobileWebUrl: 'https://mbti-for-senior.enjoy-onepage.com/',
                    webUrl: 'https://mbti-for-senior.enjoy-onepage.com/'
                  }
                }
              ]
            });
          };
        }
      }, 200);

      // 결과 페이지 상단 광고
      reloadAds('#ad-resultup', 'ca-pub-2228289204702106', '7898727155');
      // 결과 페이지 하단 광고
      reloadAds('#ad-resultdown', 'ca-pub-2228289204702106', '9557942112');
    });
    window.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const mbti = params.get('mbti');
      if (mbti) {
        document.getElementById('intro-page').classList.add('hidden');
        document.getElementById('mbti-form').classList.add('hidden');
        showResultByMbti(mbti);
      }
    });
  
    function showResultByMbti(mbti) {
      let chartHtml = `
        <h2>당신의 MBTI는 <span class="highlight">${mbti}</span>입니다!</h2>
        <div class="mbti-desc">${descriptions[mbti] || "아직 준비 중인 해설입니다."}</div>
        <div class="chart-container"></div>
        ${renderKakaoShare(mbti, descriptions[mbti] || "")}
      `;
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = chartHtml;
      resultDiv.classList.remove('hidden');
    };
    function reloadAds(containerSelector, adClient, adSlot) {
      const container = document.querySelector(containerSelector);
      if (container) {
        // 기존 광고 태그 제거
        container.innerHTML = '';
        // 새 광고 태그 생성
        const ins = document.createElement('ins');
        ins.className = 'adsbygoogle';
        ins.style.display = 'block';
        ins.setAttribute('data-ad-client', adClient);
        ins.setAttribute('data-ad-slot', adSlot);
        ins.setAttribute('data-ad-format', 'auto');
        ins.setAttribute('data-full-width-responsive', 'true');
        container.appendChild(ins);
        // 광고 스크립트 실행
        (window.adsbygoogle = window.adsbygoogle || []).push({});
      }
    };
  </script>
</body>
</html>
